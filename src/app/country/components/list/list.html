<section class="mt-5">
    <div class="overflow-x-auto">
        <table class="table">
            <!-- head -->
            <thead>
                <tr>
                    <th>#</th>
                    <th>Ícono</th>
                    <th>Bandera</th>
                    <th>Nombre</th>
                    <th>Capital</th>
                    <th>Población</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <!-- row 1 -->
                @for (country of countries(); track country.cca2;let index = $index) {
                <tr class="bg-base-200">
                    <th>{{ $index + 1 }}</th>
                    <td>{{ country.flag }}</td>
                    <td>
                        <img [src]="country.flagSvg" [alt]="country.name" class="w-10" />
                    </td>
                    <td>{{ country.name }}</td>
                    <td>{{ country.capital }}</td>
                    <td>
                        <span class="badge badge-secundary">
                            {{ country.population | number }}
                        </span>
                    </td>
                    <td>
                        <a [routerLink]="['/country/by', country.cca2]" class="link-primary"
                            >Más información</a
                        >
                    </td>
                </tr>
                }

                <!--  -->
                @if (errorMessage()) {
                <tr>
                    <td colspan="8" class="text-center">
                        {{ errorMessage() }}
                    </td>
                </tr>
                }
                <!--  -->
                @if (countries().length === 0 && !isLoading()) {
                <tr>
                    <td colspan="8" class="text-center">No se encontraron resultados.</td>
                </tr>
                }

                <!-- . -->
                @if (isLoading()) {
                <tr>
                    <td colspan="8" class="text-center">Buscando países.</td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</section>
